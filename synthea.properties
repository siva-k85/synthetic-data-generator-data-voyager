# ==============================================================================
# ANDOR HEALTH SYSTEM - PHASE 1 PILOT CONFIGURATION (GOLD STANDARD)
# Target: Wisconsin (Dane + Ring Counties) | N=100 Patients
# Standard: FHIR R4 US Core 6.1.0 | Format: Bulk Data (NDJSON)
# ==============================================================================

# ------------------------------------------------------------------------------
# 1. EXPORT SETTINGS - INTEROPERABILITY & COMPLIANCE
# ------------------------------------------------------------------------------
# First Principle (Compliance): We enforce US Core 6.1.0 because it includes the
# specific USCDI v3 extensions (SOGI, Tribal Affiliation) required for our
# Health Equity reporting. Older versions will fail the ONC certification checks.
exporter.fhir.export = true
exporter.fhir.use_us_core_ig = true
exporter.fhir.us_core_version = 6.1.0

# First Principle (Architecture): We use Bulk Data (NDJSON) over Transaction Bundles
# to decouple data generation from ingestion. This allows our Azure Synapse pipeline
# to ingest 1M+ records in parallel without the overhead of HTTP transaction processing.
exporter.fhir.bulk_data = true
exporter.fhir.transaction_bundle = false
exporter.pretty_print = false

# Enable CSV export for rapid manual validation by Data Analysts before ETL.
exporter.csv.export = true

# ------------------------------------------------------------------------------
# 2. POPULATION DEMOGRAPHICS & GEOGRAPHY
# ------------------------------------------------------------------------------
# Target: 100 Pilot Patients
# First Principle (Scaling): We limit the pilot to 100 patients to allow for
# manual chart review of every generated record by the Clinical Informatics team.
generate.default_population = 100

# Geography: Dane County + 7 Ring Counties
# First Principle (Access to Care): We use specific local ZIP codes to test the
# "Distance to Clinic" logic. If patients are generated in generic ZIPs, the
# Care Coordinator's "Transportation Assistance" worklist will be empty.
generate.demographics.default_file = geography/demographics__wi_8counties__synthea_ready__y2022__complete__v3_0__prod.csv
generate.geography.zipcodes.default_file = geography/zipcodes__wi__zcta__y2020__real__n140__v3_0__prod.csv

# ------------------------------------------------------------------------------
# 3. PAYER MIX & CONTRACTS
# ------------------------------------------------------------------------------
# First Principle (Financial Risk): We explicitly set Medicare to 40% to mirror
# Andor's actual risk profile. This ensures the "High Risk" worklists (driven by
# age and comorbidity) have sufficient volume for the pilot test.
generate.payers.insurance_companies.default_file = payers/payers__andor__n8__v3_0__prod.csv
generate.payers.insurance_plans.default_file = payers/insurance_plans__andor__v3_0__prod.csv

# Adjustment to match Andor's heavy Medicare/Medicaid load
generate.payers.medicare.probability = 0.40
generate.payers.medicaid.probability = 0.20
generate.payers.commercial.probability = 0.35
generate.payers.self_pay.probability = 0.05
generate.payers.dual_eligible.probability = 0.05

# ------------------------------------------------------------------------------
# 4. PROVIDER NETWORK & ATTRIBUTION
# ------------------------------------------------------------------------------
# First Principle (Attribution): We MUST enforce 'network' selection behavior.
# Without this, patients would visit random providers, breaking the "Longitudinal
# Patient Record" required to attribute a patient to a specific PCP for value-based care.
generate.providers.selection_behavior = network
generate.providers.maximum_search_distance = 50

# Custom Provider Files (The "Andor CIN")
generate.providers.hospitals.default_file = providers/hospitals__andor__n3__v3_0__prod.csv
generate.providers.primarycare.default_file = providers/primary_care_facilities__andor__v3_0__prod.csv

# ------------------------------------------------------------------------------
# 5. CLINICAL MODULES & SDOH
# ------------------------------------------------------------------------------
# First Principle (Risk Adjustment): We enable SDOH and specific chronic conditions
# because they are the primary drivers of the RAF (Risk Adjustment Factor) score.
# A patient without these data points appears "healthy" and artificially lowers our revenue projection.
exporter.fhir.sdoh_observations = true
generate.sdoh.food_insecurity.probability = 0.15
generate.sdoh.housing_instability.probability = 0.10

# HEDIS/Quality measures alignment
generate.hedis.diabetes_care.enabled = true
generate.hedis.blood_pressure_control.enabled = true
